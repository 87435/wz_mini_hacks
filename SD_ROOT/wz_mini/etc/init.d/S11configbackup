#!/bin/sh

#CAMERA CONFIGURATION FILES BACKUP
if [ -d /opt/.wz_backup ]; then
        echo "Factory config backup directory missing"
else
        echo "Creating factory config backup directory"
        mkdir /opt/.wz_backup
fi

if [ -f /opt/wz_mini/tmp/.T31 ]; then
        echo "T31 platform backup"
        if [ -d /opt/.wz_backup/configs ]; then
                echo "Factory configs backup directory present, not backing up again"
        else
                echo "Backup /configs"
                cp -R /configs/ /opt/.wz_backup/
        fi
elif [ -f /opt/wz_mini/tmp/.T20 ]; then
        echo "T20 platform backup"
        if [ -d /opt/.wz_backup/configs ]; then
                echo "Factory configs backup directory present, not backing up again"
        else
                echo "Backup /configs"
                cp -R /configs/ /opt/.wz_backup/
        fi

        if [ -d /opt/.wz_backup/params ]; then
                echo "Factory params backup directory present, not backing up again"
        else
                echo "Backup /params"
                cp -R /params/ /opt/.wz_backup/
        fi
fi

